# Single command to reset all Django migrations (no backup)
# Run this from the project root directory

Write-Host "ðŸ§¹ Cleaning Django migrations..." -ForegroundColor Green; Get-ChildItem -Path "frontend_web\dashboard\migrations\*.py" | Where-Object { $_.Name -ne "__init__.py" } | Remove-Item -Force; Get-ChildItem -Path "services\frontend_api\dashboard_api\migrations\*.py" | Where-Object { $_.Name -ne "__init__.py" } | Remove-Item -Force; Get-ChildItem -Path "services\iot_ingestion\data_receiver\migrations\*.py" | Where-Object { $_.Name -ne "__init__.py" } | Remove-Item -Force; Get-ChildItem -Path "services\alert_service\notifier\migrations\*.py" | Where-Object { $_.Name -ne "__init__.py" } | Remove-Item -Force; Get-ChildItem -Path "services\ai_processor\analytic\migrations\*.py" | Where-Object { $_.Name -ne "__init__.py" } | Remove-Item -Force; Get-ChildItem -Path "*\*\migrations\__pycache__" -Recurse -Force -ErrorAction SilentlyContinue | Remove-Item -Recurse -Force; Get-ChildItem -Path ".\frontend_web\db.sqlite3" -ErrorAction SilentlyContinue | Remove-Item -Force; Get-ChildItem -Path ".\services\*\db.sqlite3" -ErrorAction SilentlyContinue | Remove-Item -Force; Write-Host "âœ… Migration reset complete!" -ForegroundColor Green
